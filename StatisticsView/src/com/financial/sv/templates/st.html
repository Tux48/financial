<!DOCTYPE html>
<html style="height: 100%">
<head>
	<meta charset="UTF-8">
	<title>ST统计</title>
	<style>
	.cursor {
		cursor: pointer;
	} /*鼠标移动到标题上显示小手*/
	</style>

	<script>
		//查找表格的<th>元素，让它们可单击
		function makeSortable(table) {
			var headers = table.getElementsByTagName("th");
			for (var i = 0; i < headers.length; i++) {
				(function(n) {
					var flag = false;
					headers[n].onclick = function() {
						// sortrows(table,n);
						var tbody = table.tBodies[0];//第一个<tbody>
						var rows = tbody.getElementsByTagName("tr");//tbody中的所有行
						rows = Array.prototype.slice.call(rows, 0);//真实数组中的快照
	
						//基于第n个<td>元素的值对行排序
						rows.sort(function(row1, row2) {
							var cell1 = row1.getElementsByTagName("td")[n];//获得第n个单元格
							var cell2 = row2.getElementsByTagName("td")[n];
							var val1 = cell1.textContent || cell1.innerText;//获得文本内容
							var val2 = cell2.textContent || cell2.innerText;
	
							val1Float = parseFloat( val1 )
							val2Float = parseFloat( val2 )
							
							if (val1Float < val2Float) {
								return -1;
							} else if (val1Float > val2Float) {
								return 1;
							} else {
								return 0;
							}
						});
						if (flag) {
							rows.reverse();
						}
						//在tbody中按它们的顺序把行添加到最后
						//这将自动把它们从当前位置移走，故没必要预先删除它们
						//如果<tbody>还包含了除了<tr>的任何其他元素，这些节点将会悬浮到顶部位置
						for (var i = 0; i < rows.length; i++) {
							tbody.appendChild(rows[i]);
						}
	
						flag = !flag;
					}
				}(i));
			}
		}
	
		window.onload = function() {
			var table = document.getElementsByTagName("table")[0];
			makeSortable(table);
		}
	</script>

</head>

<body>
	<!-- <table width="100%">
		<tr style="height: 30px">
			<td>起始价: s_p_c</td>
			<td>最低价: s_l</td>
			<td>最大跌幅: s_d</td>
			<td>撤销ST之前最高价: s_h</td>
			<td>最大涨幅: s_u</td>
			<td>时长: d_d</td>
		</tr>
		<tr style="height: 30px">
			<td>收盘价: c_s_p_c</td>
			<td>正最高价: c_s_h</td>
			<td>正最大涨幅: c_s_u</td>
			<td>正最低价: c_s_l</td>
			<td>正最大跌幅: c_s_d</td>
			<td>是否历史最低: i_h_d</td>
		</tr>
	</table> -->
	<br>
	<table width="100%">
		<thead>
			<tr style="height: 30px">
				<th align="center" style="font-size:14px;">代码</th>
				<th align="center" style="font-size:14px;">股票名</th>
				<th align="center" style="font-size:14px;">ST期间</th>
				<th align="center" style="font-size:14px;" class="cursor">起始价</th>
				<th align="center" style="font-size:14px;" class="cursor">最低价</th>
				<th align="center" style="font-size:14px;" class="cursor">最大跌幅(%)</th>
				<th align="center" style="font-size:14px;" class="cursor">撤销ST之前最高价</th>
				<th align="center" style="font-size:14px;" class="cursor">最大涨幅(%)</th>
				<th align="center" style="font-size:14px;" class="cursor">时长(天)</th>
				<th align="center" style="font-size:14px;">撤销ST时间</th>
				<th align="center" style="font-size:14px;" class="cursor">收盘价</th>
				<th align="center" style="font-size:14px;" class="cursor">正最高价</th>
				<th align="center" style="font-size:14px;" class="cursor">正最大涨幅(%)</th>
				<th align="center" style="font-size:14px;" class="cursor">正最低价</th>
				<th align="center" style="font-size:14px;" class="cursor">正最大跌(%)</th>
				<th align="center" style="font-size:14px;">历史最低</th>
			</tr>
		</thead>
		<tbody id="trPanel">
			{% for data in datas %}
				<tr style="height: 30px">
					<td align="center" style="font-size:14px;font-family:微软雅黑;">{{ data[ 0 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 1 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 2 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 3 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 4 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 5 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 6 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 7 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 8 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 9 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 10 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 11 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 12 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 13 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 14 ] }}</td>
					<td align="center" style="font-size:14px;">{{ data[ 15 ] }}</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
</body>
</html>